<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="~{layout/layout :: head}">
    <title>Formulario de Salida | Mathilo </title>
</head>

<body>

    <header th:replace="~{layout/layout :: header}"></header>

    <div class="container-fluid page-body-wrapper">

        <div th:replace="~{layout/layout :: sidebar}"></div>

        <div class="main-panel">

            <div class="content-wrapper">
                <div class="row">
                    <div class="col-md-12 grid-margin stretch-card">
                        <div class="card">
                            <div class="card-body">
                                <h4 class="card-title" th:text="${titulo}"></h4>
                                <form class="forms-sample" th:action="@{/guardar-salida}" th:object="${salida}"
                                    method="post">

                                    <input type="hidden" th:if="${salida != null}" th:field="*{id}"
                                        th:value="${salida.id}" />

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="articulo">Artículo</label>
                                                <select id="articulo" name="articulo" class="form-control">
                                                    <option th:each="articulo : ${articulos}"
                                                        th:value="${articulo.id}" th:text="${articulo.nombre}">
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="cantidad">Cantidad</label>
                                                <input type="number" id="cantidad" th:field="*{cantidad}"
                                                    class="form-control" th:errorclass="'is-invalid'"
                                                    placeholder="Cantidad" required>
                                                <small class="form-text text-danger"
                                                    th:if="${#fields.hasErrors('cantidad')}" th:errors="*{cantidad}"></small>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="nota">Nota</label>
                                                <input type="text" id="nota" th:field="*{nota}" class="form-control"
                                                    th:errorclass="is-invalid" placeholder="Nota" required />
                                                <small class="form-text text-danger" th:if="${#fields.hasErrors('nota')}"
                                                    th:errors="*{nota}"></small>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="pedido">Pedido</label>
                                                <select id="pedido" name="pedido" class="form-control">
                                                    <option th:each="pedido : ${pedidos}"
                                                        th:value="${pedido.id}" th:text="${pedido.toString()}">
                                                    </option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="fecha">Fecha</label>
                                        <input type="date" id="fecha" th:field="*{fecha}" class="form-control"
                                            th:errorclass="is-invalid" placeholder="Fecha" required />
                                        <small class="form-text text-danger" th:if="${#fields.hasErrors('fecha')}"
                                            th:errors="*{fecha}"></small>
                                    </div>

                                    <!-- Botón de enviar -->
                                    <div class="text-center">
                                        <button type="submit" class="btn btn-primary me-2">
                                            <i class="fas fa-save me-2"></i> Guardar
                                        </button>
                                    </div>
                                </form>

                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <!-- content-wrapper ends -->

            <!-- partial -->
            <!-- partial:partials/_footer.html -->
            <div th:replace="~{layout/layout :: footer}"></div>

        </div>

    </div>

    <div th:replace="~{layout/layout :: scripts}"></div>
</body>

</html>
